
@class Issue20Class

// Previously, this would fail due to ns->js naming conventions,
// as both 'doFoo:withBar:' and 'doFoo_withBar:' map to the same
// underlying JavaScript function 'doFoo_withBar_'

- (string) doFoo:(id)foo withBar:(id)bar { return "A"; }
- (string) doFoo_withBar:(id)bar { return "B"; }

- (string) _doFoo:(id)foo withBar:(id)bar { return "C"; }
- (string) _doFoo_withBar:(id)bar { return "D"; }

@end

function runTests()
{
    var instance = [[Issue20Class alloc] init];

    assert([instance doFoo:0 withBar:1]  == "A");
    assert([instance doFoo_withBar:1]    == "B");
    assert([instance _doFoo:0 withBar:1] == "C");
    assert([instance _doFoo_withBar:1]   == "D");

    return true;
}

runTests();
